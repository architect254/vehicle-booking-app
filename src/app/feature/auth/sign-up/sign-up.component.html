<mat-toolbar>
  <span>BookingApp</span>
</mat-toolbar>
<header>
  <h1 class="mat-headline-5 text-center " *ngIf="!isSigningIn">
    Sign Up For <strong>BookingApp</strong>
  </h1>
</header>

<!--
  Default Sign Up Layout
-->
<section class="form-container mat-typography" *ngIf="!isSigningIn">
  <form class="mt-4" (ngSubmit)="submitForm()" [formGroup]="signUpForm">
    <section class="user-name">
      <mat-form-field appearance="outline" class="w-100 ">
        <mat-label>Firstname</mat-label>
        <input
          type="text"
          name="firstname"
          formControlName="firstname"
          matInput
          placeholder="Ex. John"
        />
        <mat-icon matPrefix class="material-icons-two-toned"
          >contacts</mat-icon
        >
        <mat-error *ngIf="firstname?.hasError('required')">
          First Name is required
        </mat-error>
      </mat-form-field>
  
      <mat-form-field appearance="outline" class="w-100 ">
        <mat-label>Surname</mat-label>
        <input
          type="text"
          name="surname"
          formControlName="surname"
          matInput
          placeholder="Ex. Doe"
        />
        <mat-icon matPrefix class="material-icons-two-toned"
          >contacts</mat-icon
        >
        <mat-error *ngIf="surname?.hasError('required')">
          Surname is required
        </mat-error>
      </mat-form-field>
    </section>

    <mat-form-field appearance="outline" class="w-100 ">
      <mat-label>Phone Number</mat-label>
      <input
        type="phone"
        name="phoneNo"
        formControlName="phoneNo"
        matInput
        placeholder="Ex. 0712312312"
      />
      <mat-icon matPrefix class="material-icons-two-toned"
        >phone</mat-icon
      >
      <mat-error *ngIf="phoneNo?.hasError('required')">
        Phone Number is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100">
      <mat-label>Password</mat-label>
      <input
        type="password"
        name="password"
        formControlName="password"
        matInput
        placeholder="Ex. #123&AbC"
      />
      <mat-icon matPrefix class="material-icons-outlined">password</mat-icon>
      <mat-error *ngIf="password?.hasError('required')"> Password is required </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100">
      <mat-label>Confirm Password</mat-label>
      <input
        type="password"
        name="confirmPassword"
        formControlName="confirmPassword"
        matInput
        placeholder="Ex. #123&AbC"
      />
      <mat-icon matPrefix class="material-icons-outlined">password</mat-icon>
      <mat-error *ngIf="confirmPassword?.hasError('passwordMatch')">
        Confirm Password is <strong>required</strong>
      </mat-error>

    </mat-form-field>
    <button
      mat-raised-button
      [disabled]="signUpForm.invalid || isSubmitting"
      type="submit"
      color="accent"
      class="w-100 mt-4 mb-1"
    >
      <mat-icon matSuffix *ngIf="!isSubmitting; else submitting"
        >how_to_reg</mat-icon
      >
      <ng-template #submitting
        ><mat-spinner diameter="30" strokeWidth="4" color="accent"></mat-spinner
      ></ng-template>
      <span *ngIf="!isSubmitting">Sign Up</span>
    </button>
    <small
      >Already have an account?
      <a class="icon-link text-primary" routerLink="../sign-in"
        >Sign in <i class="bi bi-box-arrow-in-right"></i></a
      ></small
    >
  </form>
</section>

<!--
  Automatic Sign In After Successful Sign Up
-->

<section
  class="container h-100 d-flex flex-column align-items-center justify-content-center"
  *ngIf="isSigningIn"
>
  <section class="loader">
    <mat-spinner color="accent"></mat-spinner>
  </section>
  <header class="mat-small text-center ">Signing In</header>
</section>
