<mat-card class="example-card">
  <form (ngSubmit)="submitForm()" [formGroup]="resetPasswordForm">
    <mat-card-header>
      <mat-card-subtitle>Password Management</mat-card-subtitle>
      <mat-card-title>Reset Password</mat-card-title>
    </mat-card-header>
    <mat-card-content class="mt-4">
      <section class="form-container">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Old Password</mat-label>
          <input
            type="password"
            name="password"
            formControlName="password"
            matInput
            placeholder="Ex. #123&AbC"
          />
          <mat-icon matPrefix class="material-icons-two-toned"
            >password</mat-icon
          >

          <mat-error *ngIf="password?.hasError('required')">
            Password is <strong>required</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-100">
          <mat-label>New Password</mat-label>
          <input
            type="password"
            name="newPassword"
            formControlName="newPassword"
            matInput
            placeholder="Ex. #123&AbC"
          />
          <mat-icon matPrefix class="material-icons-two-toned"
            >password</mat-icon
          >

          <mat-error *ngIf="newPassword?.hasError('required')">
            New Password is <strong>required</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-100 my-1">
          <mat-label>Confirm New Password</mat-label>
          <input
            type="password"
            name="confirmNewPassword"
            formControlName="confirmNewPassword"
            matInput
            placeholder="Ex. #123&AbC"
          />
          <mat-icon matPrefix class="material-icons-outlined"
            >password</mat-icon
          >

          <mat-error *ngIf="confirmNewPassword?.hasError('required')">
            Confirm Password is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </section>
    </mat-card-content>
    <mat-card-actions>
      <button
        mat-raised-button
        [disabled]="resetPasswordForm.invalid || isSubmitting"
        type="submit"
        color="accent"
        class="w-100 my-1"
      >
        <mat-icon matSuffix *ngIf="!isSubmitting; else submitting"
          >lock_reset</mat-icon
        >
        <ng-template #submitting
          ><mat-spinner
            diameter="30"
            strokeWidth="4"
            color="accent"
          ></mat-spinner
        ></ng-template>
        <span *ngIf="!isSubmitting">Reset Password</span>
      </button>
    </mat-card-actions>
    <mat-card-footer>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </mat-card-footer>
  </form>
</mat-card>
