<mat-card class="manage-vehicle-card">
  <mat-card-header>
    <mat-card-title class="headline-5"
      >{{ action?.toUpperCase() }} VEHICLE INFORMATION</mat-card-title
    >
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="vehicleForm" class="add-vehicle">
      <div class="mat-subtitle-1">Vehicle Details</div>
      <mat-form-field>
        <mat-label>Plate Number</mat-label>
        <input
          matInput
          placeholder="Ex. ABC 100V"
          formControlName="plateNumber"
        />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Type</mat-label>
        <input matInput placeholder="Ex. 17" formControlName="type" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Capacity</mat-label>
        <input matInput placeholder="Ex. 17" formControlName="capacity" />
      </mat-form-field>

      <ng-container formArrayName="routes" class="routes">
        <ng-container *ngFor="let routeForm of routes.controls; let i = index">
          <mat-card class="route-card">
            <mat-card-header>
              <mat-card-title>Route Information</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <ng-container [formGroupName]="i">
                <div class="mat-subtitle-1">
                  {{
                    i == 0
                      ? "Origin Departure Route"
                      : "Destination " + i + " Details"
                  }}
                </div>
                <mat-form-field>
                  <mat-label>Route Name</mat-label>
                  <input
                    matInput
                    placeholder="Ex. Mombasa"
                    formControlName="route"
                  />
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Arrival Time</mat-label>
                  <input matInput formControlName="arrivalTime" type="time" />
                </mat-form-field>
                <mat-form-field>
                  <mat-label>Departure Time</mat-label>
                  <input matInput formControlName="departureTime" type="time" />
                </mat-form-field>
              </ng-container>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button (click)="navigateToEditCompany(companyId)">
                EDIT
              </button>
              <button mat-button>DELETE</button>
            </mat-card-actions>
            <mat-card-footer> </mat-card-footer>
          </mat-card>
        </ng-container>
      </ng-container>
      <button mat-button color="primary" (click)="addRoute()" class="route-btn">
        <mat-icon> switch_access_shortcut_add </mat-icon>
        Add Route
      </button>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <div class="card-actions">
      <button
        mat-button
        color="primary"
        type="button"
        (click)="navigateToVehicleList()"
      >
        Close
      </button>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        (click)="addVehicle()"
      >
        Submit
      </button>
    </div>
  </mat-card-actions>
</mat-card>
